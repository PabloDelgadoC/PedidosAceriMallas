<app-header></app-header>

<ion-content>

    <ion-toolbar class="ion-no-padding">
        <ion-title color="dark" class="ion-text-start"><b>PRODUCTOS</b></ion-title>
    </ion-toolbar>

    <ion-toolbar>
        <ion-searchbar mode="ios" 
            placeholder="Buscar producto"
            inputmode="text"
            (ionChange)="onSearchChange($event)"
            [debounce]="350"
            [disabled]="searchDisable"
            animated  
        ></ion-searchbar>
    </ion-toolbar>

    <ion-toolbar>
        <ion-segment scrollable color="acerimalla" value="" (ionChange)="segmentChanged($event)">
            <ion-segment-button value="">
                Todos
            </ion-segment-button>
            <ion-segment-button value="Malla Perforada">
                Malla Perforada
            </ion-segment-button>
            <ion-segment-button value="Planchas">
                Planchas
            </ion-segment-button>
            <ion-segment-button value="Personalizado">
                Personalizado
            </ion-segment-button>
            <ion-segment-button value="Otros">
                Otros
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>

    <ion-grid *ngIf="!flag">
        <ion-row *ngIf="products != null">
            <ion-col class="ion-no-padding" size="6" *ngFor="let product of products | filtro:textToFilter:'nombre'">
                <ion-card mode="ios">
                    <ion-img src="http://localhost:4000/{{product.img}}" style="height: 100%; object-fit: contain;" (click)="showProduct(product)"></ion-img>
                    <br/>
                    <ion-card-content>
                        <ion-row class="ion-no-padding">
                            <ion-col size="8" class="ion-no-padding">
                                <ion-text color="dark"><b>{{product.nombre}}</b></ion-text>
                            </ion-col>
                            <ion-col size="4" class="ion-no-padding ion-text-right">
                                $<ion-text color="acerimalla">{{product.precio}}</ion-text>
                            </ion-col>
                        </ion-row>
                        <br/>
                        <ion-text class="ion-text-justify">{{product.descripcion}}</ion-text>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-grid *ngIf="flag">
        <ion-row *ngIf="products != null">
            <ion-col class="ion-no-padding" size="6" *ngFor="let product of products | filtro:segment:'categoria'">
                <ion-card mode="ios">
                    <ion-img src="http://localhost:4000/{{product.img}}" style="height: 100%; object-fit: contain;" (click)="showProduct(product)"></ion-img>
                    <br/>
                    <ion-card-content>
                        <ion-row class="ion-no-padding">
                            <ion-col size="8" class="ion-no-padding">
                                <ion-text color="dark"><b>{{product.nombre}}</b></ion-text>
                            </ion-col>
                            <ion-col size="4" class="ion-no-padding ion-text-right">
                                $<ion-text color="acerimalla">{{product.precio}}</ion-text>
                            </ion-col>
                        </ion-row>
                        <br/>
                        <ion-text class="ion-text-justify">{{product.descripcion}}</ion-text>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>

<!--<app-banner></app-banner>-->