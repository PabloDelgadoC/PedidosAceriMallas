<app-header></app-header>

<ion-content>

    <ion-toolbar class="ion-no-padding">
        <ion-title color="dark" class="ion-text-start"><b>PRODUCTOS</b></ion-title>
    </ion-toolbar>

    <ion-toolbar>
        <ion-searchbar mode="ios" 
            placeholder="Buscar producto"
            inputmode="text"
            (ionChange)="onSearchChange($event)"
            [debounce]="350"
            [disabled]="searchDisable"
            animated  
        ></ion-searchbar>
    </ion-toolbar>

    <ion-toolbar>
        <ion-segment scrollable color="acerimalla" value="" (ionChange)="segmentChanged($event)">
            <ion-segment-button value="">
                Todos
            </ion-segment-button>
            <ion-segment-button value="Malla Perforada">
                Malla Perforada
            </ion-segment-button>
            <ion-segment-button value="Planchas">
                Planchas
            </ion-segment-button>
            <ion-segment-button value="Personalizado">
                Personalizado
            </ion-segment-button>
            <ion-segment-button value="Otros">
                Otros
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>

    <ion-grid *ngIf="!flag">
        <ion-row *ngIf="products != null">
            <ion-col size="6" *ngFor="let product of products | filtro:textToFilter:'nombre'">
                <ion-card mode="ios">
                    <ion-img src="http://localhost:4000/{{product.img}}" style="height: 100%; object-fit: contain;"></ion-img>
                    
                    
                    <ion-card-content class="ion-no-padding">
                        <ion-item class="ion-no-padding" lines="none">
                            <ion-thumbnail slot="start">
                                <ion-text>{{product.nombre}}</ion-text>
                            </ion-thumbnail>
                            <ion-thumbnail slot="end">
                                <ion-text>{{product.precio}}</ion-text>
                            </ion-thumbnail>
                        </ion-item>
                        <ion-label>{{product.descripcion}}</ion-label>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-grid *ngIf="flag">
        <ion-row *ngIf="products != null">
            <ion-col size="6" *ngFor="let product of products | filtro:segment:'categoria'">
                <ion-card mode="ios">
                    <ion-img src="http://localhost:4000/{{product.img}}" style="height: 100%; object-fit: contain;"></ion-img>
                    
                    <ion-card-content class="ion-no-padding">
                        <ion-item class="ion-no-padding" lines="none">
                            <ion-thumbnail slot="start">
                                <ion-text>{{product.nombre}}</ion-text>
                            </ion-thumbnail>
                            <ion-thumbnail slot="end">
                                <ion-text>{{product.precio}}</ion-text>
                            </ion-thumbnail>
                        </ion-item>
                        <ion-label>{{product.descripcion}}</ion-label>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>
